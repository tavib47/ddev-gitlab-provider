name: ddev-gitlab-provider

# This add-on provides a DDEV provider for pulling databases and files
# from GitLab Package Registry.

# Pre-install actions
pre_install_actions:
  - |
    #ddev-description:Checking for required environment variables
    if [ -z "${GITLAB_PROJECT_ID:-}" ]; then
      echo ""
      echo "Note: GITLAB_PROJECT_ID is not set."
      echo "Set it in .ddev/.env before using 'ddev pull gitlab'"
      echo ""
      echo "Example .ddev/.env:"
      echo "  GITLAB_PROJECT_ID=12345678"
      echo "  GITLAB_TOKEN=glpat-xxxxxxxxxxxx"
      echo ""
    fi

# Files to copy to .ddev/
project_files:
  - providers/gitlab.yaml

# Global files (none needed)
global_files: []
